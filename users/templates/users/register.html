{% extends 'base.html' %}
{% block title %}Inscription{% endblock %}

{% block content %}
<div class="max-w-md mx-auto bg-white p-8 rounded-xl shadow-lg">
    
    <!-- Header -->
    <div class="text-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800">Créer votre compte</h2>
        <p class="text-gray-600 text-sm mt-1">
            Déjà un compte ? 
            <a href="{% url 'users:login' %}" class="text-blue-600 hover:underline">Se connecter</a>
        </p>
    </div>

    <!-- Global Errors -->
    {% if form.non_field_errors %}
    <div class="mb-4 p-3 bg-red-50 border border-red-300 rounded-md">
        {% for error in form.non_field_errors %}
            <p class="text-sm text-red-700">{{ error }}</p>
        {% endfor %}
    </div>
    {% endif %}

    <form method="post" class="space-y-5" novalidate>
        {% csrf_token %}

        <!-- Email -->
        <div>
            <label class="block text-sm font-medium text-gray-700">{{ form.email.label }}</label>
            <input 
                type="email"
                name="{{ form.email.name }}"
                value="{{ form.email.value|default:'' }}"
                class="w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 
                {% if form.email.errors %}border-red-500{% else %}border-gray-300{% endif %}"
                placeholder="Entrez votre email"
            >
            {% if form.email.errors %}
                <p class="text-sm text-red-600 mt-1">{{ form.email.errors.0 }}</p>
            {% endif %}
        </div>

        <!-- First + Last Name -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">{{ form.first_name.label }}</label>
                <input 
                    type="text"
                    name="{{ form.first_name.name }}"
                    value="{{ form.first_name.value|default:'' }}"
                    class="w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 
                    {% if form.first_name.errors %}border-red-500{% else %}border-gray-300{% endif %}"
                    placeholder="Prénom"
                >
                {% if form.first_name.errors %}
                    <p class="text-sm text-red-600 mt-1">{{ form.first_name.errors.0 }}</p>
                {% endif %}
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700">{{ form.last_name.label }}</label>
                <input 
                    type="text"
                name="{{ form.last_name.name }}"
                value="{{ form.last_name.value|default:'' }}"
                class="w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 
                {% if form.last_name.errors %}border-red-500{% else %}border-gray-300{% endif %}"
                placeholder="Nom"
                >
                {% if form.last_name.errors %}
                    <p class="text-sm text-red-600 mt-1">{{ form.last_name.errors.0 }}</p>
                {% endif %}
            </div>
        </div>

        <!-- Passwords -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">{{ form.password1.label }}</label>
                <input 
                    type="password"
                    name="{{ form.password1.name }}"
                    class="w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500
                    {% if form.password1.errors %}border-red-500{% else %}border-gray-300{% endif %}"
                    placeholder="Mot de passe"
                >
                {% if form.password1.errors %}
                    <p class="text-sm text-red-600 mt-1">{{ form.password1.errors.0 }}</p>
                {% endif %}
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700">{{ form.password2.label }}</label>
                <input 
                    type="password"
                    name="{{ form.password2.name }}"
                    class="w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500
                    {% if form.password2.errors %}border-red-500{% else %}border-gray-300{% endif %}"
                    placeholder="Confirmer"
                >
                {% if form.password2.errors %}
                    <p class="text-sm text-red-600 mt-1">{{ form.password2.errors.0 }}</p>
                {% endif %}
            </div>
        </div>

        <!-- Terms -->
        <div class="flex items-start">
            <input type="checkbox" id="terms" name="terms" required 
                class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
            <label for="terms" class="ml-2 text-sm text-gray-700">
                J'accepte les 
                <a href="#" class="text-blue-600 hover:underline">Conditions d'utilisation</a> et la 
                <a href="#" class="text-blue-600 hover:underline">Politique de confidentialité</a>.
            </label>
        </div>

        <!-- Submit -->
        <button type="submit"
            class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md shadow-sm 
            focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Créer un compte
        </button>
    </form>
</div>
{% endblock %}
